{"error":"Out of range value for column 'id' at row 1","level":"error","message":"任务创建失败","stack":"Error: Out of range value for column 'id' at row 1\n    at PromisePool.query (/home/linux/IPv6-project/backend/node_modules/mysql2/lib/promise/pool.js:36:22)\n    at exports.scan (/home/linux/IPv6-project/backend/controllers/xmapController.js:83:14)\n    at Layer.handle [as handle_request] (/home/linux/IPv6-project/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/linux/IPv6-project/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/linux/IPv6-project/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/linux/IPv6-project/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/linux/IPv6-project/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/linux/IPv6-project/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/linux/IPv6-project/backend/node_modules/express/lib/router/index.js:280:10)\n    at exports.authenticate (/home/linux/IPv6-project/backend/middleware/auth.js:35:5)","timestamp":"2025-03-28 16:28:34"}
{"error":"Out of range value for column 'id' at row 1","level":"error","message":"任务创建失败","stack":"Error: Out of range value for column 'id' at row 1\n    at PromisePool.query (/home/linux/IPv6-project/backend/node_modules/mysql2/lib/promise/pool.js:36:22)\n    at exports.scan (/home/linux/IPv6-project/backend/controllers/xmapController.js:83:14)\n    at Layer.handle [as handle_request] (/home/linux/IPv6-project/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/linux/IPv6-project/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/linux/IPv6-project/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/linux/IPv6-project/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/linux/IPv6-project/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/linux/IPv6-project/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/linux/IPv6-project/backend/node_modules/express/lib/router/index.js:280:10)\n    at exports.authenticate (/home/linux/IPv6-project/backend/middleware/auth.js:35:5)","timestamp":"2025-03-28 16:29:12"}
{"command":"xmap -6 -B 15M -u /home/linux/IPv6-project/xmap_log/1743150682188.csv -o /home/linux/IPv6-project/xmap_result/1743150682188.json -q","level":"info","message":"用户 1 创建新任务 1743150682188","timestamp":"2025-03-28 16:31:22","user":1}
{"error":"进程退出码: 1 | 最后错误: Mar 28 16:31:22.530 [INFO] xmap: output module: csv; Mar 28 16:31:22.530 [INFO] xmap: iid module: low; Mar 28 16:31:22.531 [FATAL] send: couldn't create socket. Are you root? Error: Operation not permitted","exitCode":1,"level":"info","message":"任务 1743150682188 完成","status":"failed","timestamp":"2025-03-28 16:31:22"}
{"command":"sudo xmap -6 -B 15M -u /home/linux/IPv6-project/xmap_log/1743151145736.csv -o /home/linux/IPv6-project/xmap_result/1743151145736.json -q","level":"info","message":"用户 1 创建新任务 1743151145736","timestamp":"2025-03-28 16:39:05","user":1}
{"command":"xmap -6 -B 15M -u /home/linux/IPv6-project/xmap_log/1743151626624.csv -o /home/linux/IPv6-project/xmap_result/1743151626624.json -q","level":"info","message":"用户 1 创建新任务 1743151626624","timestamp":"2025-03-28 16:47:06","user":1}
{"error":"进程异常终止 - 退出码: 1, 信号: 无 | 错误日志:\nxmap: invalid option -- ','","exitCode":1,"level":"info","message":"任务 1743151626624 终止","signal":null,"status":"failed","timestamp":"2025-03-28 16:47:06"}
{"command":"xmap -6 -B 15M -u /home/linux/IPv6-project/xmap_log/1743151764047.csv -o /home/linux/IPv6-project/xmap_result/1743151764047.json -q","level":"info","message":"用户 1 创建新任务 1743151764047","timestamp":"2025-03-28 16:49:24","user":1}
{"error":"进程异常终止 - 退出码: null, 信号: SIGTERM | 错误日志:\nMar 28 16:49:24.300 [INFO] xmap: probe network: ipv6\nMar 28 16:49:24.300 [INFO] xmap: probe module: icmp_echo\nMar 28 16:49:24.300 [INFO] xmap: output module: csv\nMar 28 16:49:24.300 [INFO] xmap: iid module: low\nMar 28 16:49:24.365 [INFO] recv: Data link layer Ethernet","exitCode":null,"level":"info","message":"任务 1743151764047 终止","signal":"SIGTERM","status":"failed","timestamp":"2025-03-28 16:50:52"}
{"command":"sudo xmap -6 -B 15M -u /home/linux/IPv6-project/xmap_log/1743153102805.csv -o /home/linux/IPv6-project/xmap_result/1743153102805.json -q","level":"info","message":"用户 1 创建新任务 1743153102805","timestamp":"2025-03-28 17:11:42","user":1}
{"error":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'signal\n      FROM tasks \n      WHERE id = NaN AND user_id = 1' at line 5","level":"error","message":"获取任务 NaN 详情失败","stack":"Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'signal\n      FROM tasks \n      WHERE id = NaN AND user_id = 1' at line 5\n    at PromisePool.query (/home/linux/IPv6-project/backend/node_modules/mysql2/lib/promise/pool.js:36:22)\n    at exports.getTaskDetails (/home/linux/IPv6-project/backend/controllers/xmapController.js:268:30)\n    at Layer.handle [as handle_request] (/home/linux/IPv6-project/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/linux/IPv6-project/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/linux/IPv6-project/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/linux/IPv6-project/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/linux/IPv6-project/backend/node_modules/express/lib/router/index.js:284:15\n    at param (/home/linux/IPv6-project/backend/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/linux/IPv6-project/backend/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/home/linux/IPv6-project/backend/node_modules/express/lib/router/index.js:421:3)","timestamp":"2025-03-28 17:12:49"}
{"error":"Unknown column 'NaN' in 'where clause'","level":"error","message":"终止任务 NaN 失败","stack":"Error: Unknown column 'NaN' in 'where clause'\n    at PromisePool.query (/home/linux/IPv6-project/backend/node_modules/mysql2/lib/promise/pool.js:36:22)\n    at exports.cancelTask (/home/linux/IPv6-project/backend/controllers/xmapController.js:203:30)\n    at Layer.handle [as handle_request] (/home/linux/IPv6-project/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/linux/IPv6-project/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/linux/IPv6-project/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/linux/IPv6-project/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/linux/IPv6-project/backend/node_modules/express/lib/router/index.js:284:15\n    at param (/home/linux/IPv6-project/backend/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/linux/IPv6-project/backend/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/home/linux/IPv6-project/backend/node_modules/express/lib/router/index.js:421:3)","timestamp":"2025-03-28 17:13:57"}
{"error":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'signal\n      FROM tasks \n      WHERE user_id = 1 \n      ORDER BY created_at DESC' at line 4","level":"error","message":"获取用户 1 任务列表失败","stack":"Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'signal\n      FROM tasks \n      WHERE user_id = 1 \n      ORDER BY created_at DESC' at line 4\n    at PromisePool.query (/home/linux/IPv6-project/backend/node_modules/mysql2/lib/promise/pool.js:36:22)\n    at exports.getTasks (/home/linux/IPv6-project/backend/controllers/xmapController.js:344:30)\n    at Layer.handle [as handle_request] (/home/linux/IPv6-project/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/linux/IPv6-project/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/linux/IPv6-project/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/linux/IPv6-project/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/linux/IPv6-project/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/linux/IPv6-project/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/linux/IPv6-project/backend/node_modules/express/lib/router/index.js:280:10)\n    at exports.authenticate (/home/linux/IPv6-project/backend/middleware/auth.js:35:5)","timestamp":"2025-03-28 17:15:35"}
{"error":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'signal = 'SIGTERM',\n               completed_at = CURRENT_TIMESTAMP\n           W' at line 5","level":"error","message":"更新任务 1743153102805 状态失败","timestamp":"2025-03-28 17:17:35"}
{"command":"sudo xmap -6 -B 15M -u /home/linux/IPv6-project/xmap_log/1743154063831.csv -o /home/linux/IPv6-project/xmap_result/1743154063831.json -q","level":"info","message":"用户 1 创建新任务 1743154063831","timestamp":"2025-03-28 17:27:43","user":1}
{"error":"进程异常终止 - 退出码: null, 信号: SIGTERM\n最后错误:\nMar 28 17:27:44.153 [INFO] xmap: probe network: ipv6\nMar 28 17:27:44.153 [INFO] xmap: probe module: icmp_echo\nMar 28 17:27:44.153 [INFO] xmap: output module: csv\nMar 28 17:27:44.153 [INFO] xmap: iid module: low\nMar 28 17:27:44.204 [INFO] recv: Data link layer Ethernet","exitCode":null,"level":"info","message":"任务 1743154063831 完成","signal":"SIGTERM","status":"failed","timestamp":"2025-03-28 17:30:21"}
{"command":"sudo xmap -6 -B 15M -u /home/linux/IPv6-project/xmap_log/1743158439133.csv -o /home/linux/IPv6-project/xmap_result/1743158439133.json -q","level":"info","message":"用户 1 创建新任务 1743158439133","timestamp":"2025-03-28 18:40:39","user":1}
{"error":"进程异常终止 - 退出码: null, 信号: SIGABRT\n最后错误:\nMar 28 18:40:39.423 [INFO] xmap: probe module: icmp_echo\nMar 28 18:40:39.423 [INFO] xmap: output module: csv\nMar 28 18:40:39.423 [INFO] xmap: iid module: low\nMar 28 18:40:39.479 [INFO] recv: Data link layer Ethernet\nxmap: /home/linux/xmap/src/send.c:402: send_run: Assertion `t > last_time' failed.","exitCode":null,"level":"info","message":"任务 1743158439133 完成","signal":"SIGABRT","status":"failed","timestamp":"2025-03-28 18:41:21"}
{"error":"Data truncated for column 'status' at row 1","level":"error","message":"终止任务 1743153102805 失败","stack":"Error: Data truncated for column 'status' at row 1\n    at PromisePool.query (/home/linux/IPv6-project/backend/node_modules/mysql2/lib/promise/pool.js:36:22)\n    at exports.cancelTask (/home/linux/IPv6-project/backend/controllers/xmapController.js:243:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-03-28 18:46:51"}
{"level":"warn","message":"结果文件访问被拒绝 - 任务ID: 1743153102805 用户ID: 1","timestamp":"2025-03-28 18:54:50"}
{"error":"白名单文件不存在","level":"error","message":"任务创建失败","params":{"whitelistFile":"whitelist.txt"},"stack":"Error: 白名单文件不存在\n    at exports.scan (/home/linux/IPv6-project/backend/controllers/xmapController.js:157:15)\n    at Layer.handle [as handle_request] (/home/linux/IPv6-project/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/linux/IPv6-project/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/linux/IPv6-project/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/linux/IPv6-project/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/linux/IPv6-project/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/linux/IPv6-project/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/linux/IPv6-project/backend/node_modules/express/lib/router/index.js:280:10)\n    at exports.authenticate (/home/linux/IPv6-project/backend/middleware/auth.js:35:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-03-28 19:32:17","user":1}
{"error":"白名单文件不存在","level":"error","message":"任务创建失败","params":{"whitelistFile":"whitelist.txt"},"stack":"Error: 白名单文件不存在\n    at exports.scan (/home/linux/IPv6-project/backend/controllers/xmapController.js:157:15)\n    at Layer.handle [as handle_request] (/home/linux/IPv6-project/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/linux/IPv6-project/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/linux/IPv6-project/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/linux/IPv6-project/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/linux/IPv6-project/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/linux/IPv6-project/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/linux/IPv6-project/backend/node_modules/express/lib/router/index.js:280:10)\n    at exports.authenticate (/home/linux/IPv6-project/backend/middleware/auth.js:35:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-03-28 19:32:44","user":1}
{"command":"sudo xmap -w /home/linux/IPv6-project/whitelists/whitelist_1_1743162265966.txt -u /home/linux/IPv6-project/xmap_log/1743162306200.csv -o /home/linux/IPv6-project/xmap_result/1743162306200.json -q","level":"info","message":"用户 1 创建新任务 1743162306200","timestamp":"2025-03-28 19:45:06","user":1}
{"command":"sudo xmap -6 -B 15M -u /home/linux/IPv6-project/xmap_log/1743162571752.csv -o /home/linux/IPv6-project/xmap_result/1743162571752.json -q","level":"info","message":"用户 1 创建新任务 1743162571752","timestamp":"2025-03-28 19:49:31","user":1}
{"command":"sudo xmap -6 -B 15M -u /home/linux/IPv6-project/xmap_log/1743163924351.csv -o /home/linux/IPv6-project/xmap_result/1743163924351.json -q","level":"info","message":"用户 1 创建新任务 1743163924351","timestamp":"2025-03-28 20:12:04","user":1}
